(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{275:function(e,t,r){Promise.resolve().then(r.t.bind(r,6945,23)),Promise.resolve().then(r.t.bind(r,8877,23)),Promise.resolve().then(r.bind(r,7710)),Promise.resolve().then(r.bind(r,220))},7710:function(e,t,r){"use strict";r.r(t),r.d(t,{Navbar:function(){return m}});var n=r(7437),a=r(1396),s=r.n(a),i=r(4033),o=r(2265),l=r(7020),d=r(4170),c=r(220);function u(){var e,t,r;let[a,s]=(0,o.useState)(!1),[i,l]=(0,o.useState)(!1),d=(0,o.useRef)(null),{user:u,signOut:h}=(0,c.useAuth)();(0,o.useEffect)(()=>{let e=e=>{d.current&&!d.current.contains(e.target)&&s(!1)};if(a)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[a]);let m=async()=>{l(!0);try{await h()}catch(e){console.error("Error signing out:",e)}finally{l(!1),s(!1)}};if(!u)return null;let x=(null===(e=u.user_metadata)||void 0===e?void 0:e.full_name)?u.user_metadata.full_name.split(" ").map(e=>e[0]).join("").toUpperCase():(null===(t=u.email)||void 0===t?void 0:t.charAt(0).toUpperCase())||"U";return(0,n.jsxs)("div",{className:"relative",ref:d,children:[(0,n.jsxs)("button",{onClick:()=>s(!a),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-white/10 transition-all duration-200 group",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-medium",children:x}),(0,n.jsx)("svg",{className:"w-3 h-3 text-white/60 transition-transform duration-200 ".concat(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&(0,n.jsxs)("div",{className:"absolute top-full right-0 mt-2 w-64 bg-black/95 backdrop-blur-xl border border-white/20 rounded-lg shadow-2xl z-50 overflow-hidden animate-in fade-in slide-in-from-top-4 duration-200",children:[(0,n.jsx)("div",{className:"p-4 border-b border-white/10",children:(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-medium",children:x}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("div",{className:"font-medium text-white truncate",children:(null===(r=u.user_metadata)||void 0===r?void 0:r.full_name)||"User"}),(0,n.jsx)("div",{className:"text-sm text-white/60 truncate",children:u.email})]})]})}),(0,n.jsxs)("div",{className:"p-2",children:[(0,n.jsx)("div",{className:"px-3 py-2 text-xs text-white/60 font-medium",children:"Account"}),(0,n.jsxs)("button",{className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-white/80 hover:text-white hover:bg-white/5 rounded-md transition-all duration-200",children:[(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Profile Settings"]}),(0,n.jsxs)("button",{className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-white/80 hover:text-white hover:bg-white/5 rounded-md transition-all duration-200",children:[(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Privacy & Security"]}),(0,n.jsx)("div",{className:"border-t border-white/10 my-2"}),(0,n.jsxs)("button",{onClick:m,disabled:i,className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[i?(0,n.jsx)("div",{className:"w-4 h-4 border-2 border-red-400/30 border-t-red-400 rounded-full animate-spin"}):(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),i?"Signing out...":"Sign Out"]})]})]})]})}function h(e){let{isOpen:t,onClose:r,initialMode:a="signin"}=e,[s,i]=(0,o.useState)(a),[l,d]=(0,o.useState)(""),[u,h]=(0,o.useState)(""),[m,x]=(0,o.useState)(""),[p,w]=(0,o.useState)(!1),[f,v]=(0,o.useState)(null),[g,b]=(0,o.useState)(null),{signIn:j,signUp:y,resetPassword:N}=(0,c.useAuth)(),k=async e=>{e.preventDefault(),w(!0),v(null),b(null);try{if("signin"===s){let{error:e}=await j(l,u);e?v(e.message):r()}else if("signup"===s){let{error:e}=await y(l,u,m);e?v(e.message):b("Check your email for the confirmation link!")}else if("reset"===s){let{error:e}=await N(l);e?v(e.message):b("Check your email for the password reset link!")}}catch(e){v("An unexpected error occurred")}finally{w(!1)}},S=()=>{d(""),h(""),x(""),v(null),b(null)},E=e=>{i(e),S()};return t?(0,n.jsx)("div",{className:"fixed inset-0 z-[9999] bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:(0,n.jsxs)("div",{className:"bg-black/95 backdrop-blur-xl border border-white/20 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in slide-in-from-top-4 duration-300",children:[(0,n.jsx)("div",{className:"p-6 border-b border-white/10",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("h2",{className:"text-xl font-bold",children:["signin"===s&&"Welcome Back","signup"===s&&"Create Account","reset"===s&&"Reset Password"]}),(0,n.jsxs)("p",{className:"text-sm text-white/60 mt-1",children:["signin"===s&&"Sign in to sync your data across devices","signup"===s&&"Join ExpenseFlow to secure your financial data","reset"===s&&"Enter your email to reset your password"]})]}),(0,n.jsx)("button",{onClick:r,className:"p-2 text-white/60 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,n.jsxs)("form",{onSubmit:k,className:"p-6 space-y-4",children:["signup"===s&&(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-white/80 mb-2",children:"Full Name"}),(0,n.jsx)("input",{type:"text",id:"fullName",value:m,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 vercel-input rounded-md text-white placeholder-white/40 focus:outline-none text-sm transition-all duration-200",placeholder:"Enter your full name",disabled:p})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-white/80 mb-2",children:"Email"}),(0,n.jsx)("input",{type:"email",id:"email",value:l,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 vercel-input rounded-md text-white placeholder-white/40 focus:outline-none text-sm transition-all duration-200",placeholder:"Enter your email",required:!0,disabled:p})]}),"reset"!==s&&(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-white/80 mb-2",children:"Password"}),(0,n.jsx)("input",{type:"password",id:"password",value:u,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 vercel-input rounded-md text-white placeholder-white/40 focus:outline-none text-sm transition-all duration-200",placeholder:"Enter your password",required:!0,disabled:p,minLength:6})]}),f&&(0,n.jsx)("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:(0,n.jsx)("p",{className:"text-red-400 text-sm",children:f})}),g&&(0,n.jsx)("div",{className:"p-3 bg-green-500/10 border border-green-500/20 rounded-lg",children:(0,n.jsx)("p",{className:"text-green-400 text-sm",children:g})}),(0,n.jsxs)("button",{type:"submit",disabled:p,className:"w-full vercel-button font-medium py-2.5 px-4 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-white/20 transition-all duration-200 relative overflow-hidden group disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,n.jsx)("span",{className:"relative z-10",children:p?"Please wait...":"signin"===s?"Sign In":"signup"===s?"Create Account":"Send Reset Link"}),p&&(0,n.jsx)("div",{className:"absolute inset-0 bg-white/10 animate-pulse"})]})]}),(0,n.jsxs)("div",{className:"p-6 border-t border-white/10 text-center space-y-3",children:["signin"===s&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>E("reset"),className:"text-sm text-white/60 hover:text-white transition-colors duration-200",children:"Forgot your password?"}),(0,n.jsxs)("div",{className:"text-sm text-white/60",children:["Don't have an account?"," ",(0,n.jsx)("button",{onClick:()=>E("signup"),className:"text-white hover:underline font-medium",children:"Sign up"})]})]}),"signup"===s&&(0,n.jsxs)("div",{className:"text-sm text-white/60",children:["Already have an account?"," ",(0,n.jsx)("button",{onClick:()=>E("signin"),className:"text-white hover:underline font-medium",children:"Sign in"})]}),"reset"===s&&(0,n.jsxs)("div",{className:"text-sm text-white/60",children:["Remember your password?"," ",(0,n.jsx)("button",{onClick:()=>E("signin"),className:"text-white hover:underline font-medium",children:"Sign in"})]})]})]})}):null}function m(){let e=(0,i.usePathname)(),t=(0,i.useRouter)(),{user:r,loading:a}=(0,c.useAuth)(),[m,x]=(0,o.useState)(!1),[p,w]=(0,o.useState)(0),[f,v]=(0,o.useState)(0),[g,b]=(0,o.useState)(!0),[j,y]=(0,o.useState)(!1),[N,k]=(0,o.useState)(!1),[S,E]=(0,o.useState)(!1),[C,_]=(0,o.useState)("signin"),[L,I]=(0,o.useState)(!1),[D,O]=(0,o.useState)(!1),[M,z]=(0,o.useState)(-1),A=(0,o.useRef)(0),F=(0,o.useRef)(!1),P=(0,o.useRef)(null),U="/"===e,T="/dashboard"===e;(0,o.useEffect)(()=>{let e=()=>{let e=(0,l.f1)(),t=(0,d.iN)(e);x(e.length>0),w(e.length),v(t.balance)};e();let t=()=>e();return window.addEventListener("storage",t),window.addEventListener("transactionUpdate",t),()=>{window.removeEventListener("storage",t),window.removeEventListener("transactionUpdate",t)}},[e]);let W=(0,o.useCallback)(()=>{let e=window.scrollY;if(10>Math.abs(e-A.current)){F.current=!1;return}b(e<A.current||e<100),y(e>100),A.current=e,F.current=!1},[]);(0,o.useEffect)(()=>{let e=()=>{F.current||(requestAnimationFrame(W),F.current=!0)};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[W]),(0,o.useEffect)(()=>{let e=e=>{(e.metaKey||e.ctrlKey)&&"k"===e.key&&(e.preventDefault(),k(!0)),"Escape"===e.key&&(k(!1),I(!1),z(-1)),N&&("ArrowDown"===e.key?(e.preventDefault(),z(e=>Math.min(e+1,1))):"ArrowUp"===e.key?(e.preventDefault(),z(e=>Math.max(e-1,0))):"Enter"===e.key&&M>=0&&(e.preventDefault(),B(["/","/dashboard"][M])))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[N,M]),(0,o.useEffect)(()=>{let e=e=>{P.current&&!P.current.contains(e.target)&&k(!1)};if(N)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[N]);let B=async r=>{r!==e&&(O(!0),k(!1),I(!1),t.prefetch(r),await new Promise(e=>setTimeout(e,150)),t.push(r),O(!1))},J=e=>{_(e),E(!0)},H=[{label:"Home",href:"/",icon:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),shortcut:"H"},{label:"Dashboard",href:"/dashboard",icon:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),shortcut:"D",badge:p>0?p:void 0}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("nav",{className:"fixed top-4 left-4 right-4 z-40 transition-all duration-500 ease-out ".concat(g?"translate-y-0 opacity-100":"-translate-y-full opacity-0"," ").concat(j?"top-2":"top-4"),children:(0,n.jsxs)("div",{className:"bg-black/90 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl transition-all duration-300 ".concat(j?"shadow-lg":"shadow-2xl"),children:[(0,n.jsx)("div",{className:"absolute inset-0 rounded-2xl opacity-[0.015] pointer-events-none bg-noise"}),(0,n.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"}),(0,n.jsxs)("div",{className:"max-w-6xl mx-auto px-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between transition-all duration-300 ".concat(j?"h-12":"h-16"),children:[(0,n.jsxs)(s(),{href:"/",className:"flex items-center gap-2 group relative",onClick:e=>{e.preventDefault(),B("/")},children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"bg-white rounded-lg flex items-center justify-center group-hover:scale-110 group-active:scale-95 transition-all duration-300 ".concat(j?"w-6 h-6":"w-8 h-8"),children:(0,n.jsx)("svg",{className:"text-black transition-all duration-300 ".concat(j?"w-3 h-3":"w-5 h-5"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),U&&(0,n.jsx)("div",{className:"absolute inset-0 bg-white/20 rounded-lg animate-pulse"})]}),(0,n.jsx)("span",{className:"font-bold transition-all duration-300 ".concat(j?"text-base":"text-lg"),children:"ExpenseFlow"}),D&&(0,n.jsx)("div",{className:"w-1 h-1 bg-white/60 rounded-full animate-pulse ml-1"})]}),(0,n.jsxs)("div",{className:"hidden md:flex items-center gap-1",children:[(0,n.jsxs)(s(),{href:"/",className:"text-sm font-medium px-4 py-2 rounded-lg transition-all duration-300 relative group ".concat(U?"text-white bg-white/10 shadow-inner":"text-white/60 hover:text-white hover:bg-white/5"),onClick:e=>{e.preventDefault(),B("/")},children:[(0,n.jsx)("span",{className:"relative z-10",children:"Home"}),!U&&(0,n.jsx)("div",{className:"absolute inset-0 bg-white/5 rounded-lg scale-0 group-hover:scale-100 transition-transform duration-200"}),(0,n.jsx)("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]}),(0,n.jsxs)(s(),{href:"/dashboard",className:"text-sm font-medium px-4 py-2 rounded-lg transition-all duration-300 relative group flex items-center gap-2 ".concat(T?"text-white bg-white/10 shadow-inner":"text-white/60 hover:text-white hover:bg-white/5"),onClick:e=>{e.preventDefault(),B("/dashboard")},children:[(0,n.jsx)("span",{className:"relative z-10",children:"Dashboard"}),p>0&&(0,n.jsx)("span",{className:"bg-white/20 text-white text-xs px-1.5 py-0.5 rounded-full font-medium",children:p}),!T&&(0,n.jsx)("div",{className:"absolute inset-0 bg-white/5 rounded-lg scale-0 group-hover:scale-100 transition-transform duration-200"}),(0,n.jsx)("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]}),m&&!j&&(0,n.jsx)("div",{className:"ml-2 px-3 py-1 bg-white/5 rounded-lg border border-white/10",children:(0,n.jsxs)("span",{className:"text-xs font-medium ".concat(f>=0?"text-green-400":"text-red-400"),children:[f>=0?"+":"",(0,d.xG)(f)]})})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)("button",{onClick:()=>k(!0),className:"hidden sm:flex items-center gap-2 px-3 py-1.5 text-xs text-white/60 hover:text-white/80 bg-white/5 hover:bg-white/10 rounded-lg border border-white/10 transition-all duration-200 group",title:"Open command palette (⌘K)",children:[(0,n.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,n.jsx)("span",{className:"hidden lg:inline",children:"⌘K"})]}),a?(0,n.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/10 animate-pulse"}):r?(0,n.jsx)(u,{}):(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("button",{onClick:()=>J("signin"),className:"text-sm font-medium px-3 py-1.5 text-white/80 hover:text-white hover:bg-white/5 rounded-lg transition-all duration-200 hidden sm:block",children:"Sign In"}),(0,n.jsxs)("button",{onClick:()=>J("signup"),className:"vercel-button font-medium py-2 px-4 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-white/20 relative overflow-hidden group",children:[(0,n.jsx)("span",{className:"relative z-10",children:"Get Started"}),(0,n.jsx)("div",{className:"absolute inset-0 bg-white/10 translate-y-full group-hover:translate-y-0 transition-transform duration-300"})]})]}),(0,n.jsx)("button",{onClick:()=>I(!L),className:"md:hidden p-2 text-white/60 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200 relative group","aria-label":"Toggle mobile menu",children:(0,n.jsxs)("div",{className:"w-5 h-5 relative",children:[(0,n.jsx)("span",{className:"absolute block w-5 h-0.5 bg-current transition-all duration-300 ".concat(L?"rotate-45 top-2":"top-1")}),(0,n.jsx)("span",{className:"absolute block w-5 h-0.5 bg-current top-2 transition-all duration-300 ".concat(L?"opacity-0":"opacity-100")}),(0,n.jsx)("span",{className:"absolute block w-5 h-0.5 bg-current transition-all duration-300 ".concat(L?"-rotate-45 top-2":"top-3")})]})})]})]}),(0,n.jsx)("div",{className:"md:hidden overflow-hidden transition-all duration-300 ".concat(L?"max-h-48 opacity-100":"max-h-0 opacity-0"),children:(0,n.jsxs)("div",{className:"py-4 border-t border-white/10 space-y-2",children:[(0,n.jsx)(s(),{href:"/",className:"block px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ".concat(U?"text-white bg-white/10":"text-white/60 hover:text-white hover:bg-white/5"),onClick:e=>{e.preventDefault(),B("/")},children:"Home"}),(0,n.jsxs)(s(),{href:"/dashboard",className:"block px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-between ".concat(T?"text-white bg-white/10":"text-white/60 hover:text-white hover:bg-white/5"),onClick:e=>{e.preventDefault(),B("/dashboard")},children:[(0,n.jsx)("span",{children:"Dashboard"}),p>0&&(0,n.jsx)("span",{className:"bg-white/20 text-white text-xs px-1.5 py-0.5 rounded-full font-medium",children:p})]}),m&&(0,n.jsxs)("div",{className:"px-4 py-2 text-xs text-white/60",children:["Balance: ",(0,n.jsxs)("span",{className:f>=0?"text-green-400":"text-red-400",children:[f>=0?"+":"",(0,d.xG)(f)]})]}),!r&&(0,n.jsxs)("div",{className:"px-4 py-2 space-y-2 border-t border-white/10 mt-2 pt-4",children:[(0,n.jsx)("button",{onClick:()=>J("signin"),className:"w-full text-left px-4 py-2 rounded-lg text-sm font-medium text-white/60 hover:text-white hover:bg-white/5 transition-all duration-200",children:"Sign In"}),(0,n.jsx)("button",{onClick:()=>J("signup"),className:"w-full text-left px-4 py-2 rounded-lg text-sm font-medium bg-white text-black hover:bg-white/90 transition-all duration-200",children:"Get Started"})]})]})})]})]})}),N&&(0,n.jsx)("div",{className:"fixed inset-0 z-[9999] bg-black/50 backdrop-blur-sm flex items-start justify-center pt-32",children:(0,n.jsxs)("div",{ref:P,className:"bg-black/95 backdrop-blur-xl border border-white/20 rounded-2xl shadow-2xl w-full max-w-lg mx-4 overflow-hidden animate-in fade-in slide-in-from-top-4 duration-300",style:{zIndex:1e4},children:[(0,n.jsx)("div",{className:"p-4 border-b border-white/10",children:(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("svg",{className:"w-4 h-4 text-white/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,n.jsx)("span",{className:"text-sm text-white/60",children:"Quick Navigation"}),(0,n.jsxs)("div",{className:"ml-auto flex items-center gap-1 text-xs text-white/40",children:[(0,n.jsx)("kbd",{className:"px-1.5 py-0.5 bg-white/10 rounded text-xs",children:"ESC"}),(0,n.jsx)("span",{children:"to close"})]})]})}),(0,n.jsx)("div",{className:"p-2",children:H.map((t,r)=>(0,n.jsxs)("button",{onClick:()=>B(t.href),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left transition-all duration-200 ".concat(M===r||e===t.href?"bg-white/10 text-white":"text-white/70 hover:bg-white/5 hover:text-white"),children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:t.icon}),(0,n.jsx)("span",{className:"flex-1 font-medium",children:t.label}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[t.badge&&(0,n.jsx)("span",{className:"bg-white/20 text-white text-xs px-1.5 py-0.5 rounded-full font-medium",children:t.badge}),(0,n.jsx)("kbd",{className:"px-1.5 py-0.5 bg-white/10 rounded text-xs font-mono",children:t.shortcut})]})]},t.href))})]})}),(0,n.jsx)(h,{isOpen:S,onClose:()=>E(!1),initialMode:C})]})}},220:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return o},useAuth:function(){return l}});var n=r(7437),a=r(2265),s=r(6763);let i=(0,a.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,a.useState)(null),[l,d]=(0,a.useState)(null),[c,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=async()=>{let{data:{session:e},error:t}=await s.O.auth.getSession();if(t)console.error("Error getting session:",t);else{var r;d(e),o(null!==(r=null==e?void 0:e.user)&&void 0!==r?r:null)}u(!1)};e();let{data:{subscription:t}}=s.O.auth.onAuthStateChange(async(e,t)=>{var r;d(t),o(null!==(r=null==t?void 0:t.user)&&void 0!==r?r:null),u(!1),"SIGNED_IN"===e&&(null==t?void 0:t.user)&&await h(t.user)});return()=>t.unsubscribe()},[]);let h=async e=>{try{var t,r;let{error:n}=await s.O.from("profiles").upsert({id:e.id,email:e.email,full_name:(null===(t=e.user_metadata)||void 0===t?void 0:t.full_name)||null,avatar_url:(null===(r=e.user_metadata)||void 0===r?void 0:r.avatar_url)||null,updated_at:new Date().toISOString()});n&&console.error("Error creating/updating profile:",n)}catch(e){console.error("Error in createOrUpdateProfile:",e)}},m=async(e,t,r)=>{let{error:n}=await s.O.auth.signUp({email:e,password:t,options:{data:{full_name:r||""}}});return{error:n}},x=async(e,t)=>{let{error:r}=await s.O.auth.signInWithPassword({email:e,password:t});return{error:r}},p=async()=>{let{error:e}=await s.O.auth.signOut();return{error:e}},w=async e=>{let{error:t}=await s.O.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/reset-password")});return{error:t}};return(0,n.jsx)(i.Provider,{value:{user:r,session:l,loading:c,signUp:m,signIn:x,signOut:p,resetPassword:w},children:t})}function l(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6763:function(e,t,r){"use strict";r.d(t,{O:function(){return i}});var n=r(1492);let a="https://rvlwsfjwwtnajlqyaqns.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ2bHdzZmp3d3RuYWpscXlhcW5zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTExODY3MDYsImV4cCI6MjA2Njc2MjcwNn0.fD6AP068S4rE_ePY4lN1uL9MF2eIgrw-uYMTYH2JTYo";if(!a||!s)throw Error("Missing Supabase environment variables");let i=(0,n.eI)(a,s,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}})},4170:function(e,t,r){"use strict";r.d(t,{Li:function(){return i},iN:function(){return n},p6:function(){return s},xG:function(){return a}});let n=e=>{let t=e.filter(e=>"income"===e.type).reduce((e,t)=>e+t.amount,0),r=e.filter(e=>"expense"===e.type).reduce((e,t)=>e+t.amount,0);return{income:t,expenses:r,balance:t-r}},a=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(Math.abs(e)),s=e=>{let t=new Date(e);return t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"date";return[...e].sort((e,r)=>{switch(t){case"date":return new Date(r.date).getTime()-new Date(e.date).getTime();case"amount":return r.amount-e.amount;case"title":return e.title.localeCompare(r.title);default:return 0}})}},7020:function(e,t,r){"use strict";r.d(t,{dT:function(){return x},Ks:function(){return v},f1:function(){return h},IM:function(){return g},Ld:function(){return p}});var n=r(6763);let a=e=>({id:e.id,title:e.title,amount:e.amount,category:e.category,type:e.type,date:e.date,createdAt:new Date(e.created_at).getTime()}),s=(e,t)=>({user_id:t,title:e.title,amount:e.amount,category:e.category,type:e.type,date:e.date}),i=async e=>{try{let{data:t,error:r}=await n.O.from("transactions").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching transactions:",r),r;return(null==t?void 0:t.map(a))||[]}catch(e){throw console.error("Error in getTransactionsFromSupabase:",e),e}},o=async(e,t)=>{try{let{data:r,error:i}=await n.O.from("transactions").insert(s(e,t)).select().single();if(i)throw console.error("Error adding transaction:",i),i;return a(r)}catch(e){throw console.error("Error in addTransactionToSupabase:",e),e}},l=async(e,t,r)=>{try{let s={...t,updated_at:new Date().toISOString()},{data:i,error:o}=await n.O.from("transactions").update(s).eq("id",e).eq("user_id",r).select().single();if(o)throw console.error("Error updating transaction:",o),o;return a(i)}catch(e){throw console.error("Error in updateTransactionInSupabase:",e),e}},d=async(e,t)=>{try{let{error:r}=await n.O.from("transactions").delete().eq("id",e).eq("user_id",t);if(r)throw console.error("Error deleting transaction:",r),r}catch(e){throw console.error("Error in deleteTransactionFromSupabase:",e),e}},c="expense-tracker-transactions",u=async()=>{let{data:{user:e}}=await n.O.auth.getUser();return null==e?void 0:e.id},h=()=>{try{let e=localStorage.getItem(c);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading transactions:",e),[]}},m=e=>{try{localStorage.setItem(c,JSON.stringify(e)),window.dispatchEvent(new CustomEvent("transactionUpdate"))}catch(e){console.error("Error saving transactions:",e)}},x=async e=>{let t=await u();if(!t)return f(e);try{let r=await o(e,t),n=h(),a=[r,...n.filter(e=>e.id!==r.id)];return m(a),r}catch(t){return console.error("Error adding transaction to Supabase:",t),f(e)}},p=async e=>{let t=await u();if(!t)return w(e);try{let r=await l(e.id,{title:e.title,amount:e.amount,category:e.category,type:e.type,date:e.date},t),n=h(),a=n.map(e=>e.id===r.id?r:e);return m(a),r}catch(t){return console.error("Error updating transaction in Supabase:",t),w(e)}},w=e=>{let t=h(),r=t.map(t=>t.id===e.id?e:t);return m(r),e},f=e=>{let t={...e,id:crypto.randomUUID(),createdAt:Date.now()},r=h(),n=[t,...r];return m(n),t},v=async e=>{let t=await u();if(t)try{await d(e,t)}catch(e){console.error("Error deleting transaction from Supabase:",e)}let r=h(),n=r.filter(t=>t.id!==e);m(n)},g=async()=>{let e=await u();if(!e)return h();try{let t=await i(e);return m(t),t}catch(e){return console.error("Error loading transactions from Supabase:",e),h()}}},8877:function(){},6945:function(e){e.exports={style:{fontFamily:"'__Inter_e8ce0c', '__Inter_Fallback_e8ce0c'",fontStyle:"normal"},className:"__className_e8ce0c",variable:"__variable_e8ce0c"}},4033:function(e,t,r){e.exports=r(290)}},function(e){e.O(0,[935,396,971,864,744],function(){return e(e.s=275)}),_N_E=e.O()}]);